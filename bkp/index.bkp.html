<!doctype html>
<html>
    <head>
        <META charset="utf-8"/>
        
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" crossorigin="anonymous">
        <!-- Inclua o CSS do Highlight.js -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
        <!-- Inclua o JS do Highlight.js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <link rel="stylesheet" type="text/css" href="./style.css">
    </head>
    <body>
        <nav class="navbar navbar-dark bg-dark  navbar-expand-lg">
            <a class="navbar-brand" href="#">
                202401 - CC 6A NOITE
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Alterna navegação">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                    <!--
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home <span class="sr-only">(Página atual)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link disabled" href="#">Desativado</a>
                    </li>
                    -->
                </ul>
                <form class="form-inline my-2 my-lg-0">
                    <input class="form-control mr-sm-2" type="search" placeholder="Pesquisar">
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Pesquisar</button>
                </form>
            </div>
        </nav>
        <div class="container-fluid" style="padding-top: 10px;">
          <div class="row">

			<div class="col-md-3 col-lg-2">    
                <div class="card bg-dark text-white">
                    <div class="card-header">
                        Implementações:
                    </div>
                    <div class="card-body">
                        <div class="list-group bg-dark text-white">
                            <a href="#" class="bg-dark text-white list-group-item list-group-item-action flex-column align-items-start active">
                                <div class="d-flex w-100 justify-content-between">
                                    <h6 class="mb-1">line(x1, y1, x2, y2, color)</h6>
                                    <small></small>
                                </div>
                                <p class="mb-1 text-white" style="font-size: 0.8em;">
                                    Algoritmo simples para conversão matricial de retas. E pouco eficiente pois utiliza cálculos de ponto flutuante.
                                    <!--void line(int x1, int y1, int x2, int y2, int color){\n
                                        int x, y;
                                        float a;
                                        int valor;
                                        a=(y2-y1)/(x2-x1);
                                        for (x=x1;x<=x2;x++){
                                            /* arredonda y */
                                            y = (y1 + a * (x - x1));
                                            write_pixel(x, y, color);
                                        }/* end for */
                                    }/*end line */-->
                                </p>
                                <small>void line(int x1, int y1, int x2, int y2, int color)</small>
                            </a>
                        </div>
                    </div>
                </div>

            </div>

            <div class="col-md-9 col-lg-10">

                <div class="card bg-dark text-white">
                    <div class="card-header">
                        Pontos e Retas:
                    </div>
                    <div class="card-body">
                        <canvas id="meuCanvas" width="90" height="70"></canvas>
                    </div>
                </div>

                <div class="card bg-dark text-white">
                    <div class="card-header">
                        Matrix:
                    </div>
                    <div class="card-body" style="padding: 5px;">
                        <div class="matrix">
                        </div>
                    </div>
                    <style>
                        
                    </style>
                </div>

                <div class="card bg-dark text-white">
                    <div class="card-header">
                        Codigos:
                    </div>
                    <div class="card-body ">
                        <h4>C/C++</h4>
                        <pre><code class="c">
    void line(int x1, int y1, int x2, int y2, int color){   
        int x, y;                                         
        float a;                                          
        int valor;                                        
        a=(y2-y1)/(x2-x1);                                
        for (x=x1;x<=x2;x++){                             
            /* arredonda y */                             
            y = (y1 + a * (x - x1));                      
            write_pixel(x, y, color);                     
        }/* end for */                                    
    }/*end line */
                        </code></pre>
                        <h4>JavaScript</h4>
                        <pre><code class="javascript">
    function line( x1, y1, x2, y2, color){

    }
                        </code></pre>
                    </div>
                </div>
                
            </div>
		  </div>
        </div>
        
        
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <script>
            
            
            let pixelSize = 1;
            let rows = 50;
            let cols = 50;

            // Obtendo uma referência para o elemento canvas
            var canvas = document.getElementById('meuCanvas');

            // Obtendo o contexto de renderização 2D
            var ctx = canvas.getContext('2d');

            // Definindo a largura e altura do canvas
            var canvasWidth = canvas.width;
            var canvasHeight = canvas.height;
            
            // Definindo as margens para os eixos
            var marginX = 1;
            var marginY = 0;
            /*
            // Desenhando as linhas dos quadrantes
            ctx.strokeStyle = 'gray'; // Cor das linhas dos quadrantes
            ctx.lineWidth = 0.4;

            ctx.beginPath();
            ctx.moveTo(marginX, canvasHeight / 2);
            ctx.lineTo(canvasWidth - marginX, canvasHeight / 2);
            ctx.stroke();
            ctx.lineWidth = 0.4;
            ctx.beginPath();
            ctx.moveTo(canvasWidth / 2, marginY);
            ctx.lineTo(canvasWidth / 2, canvasHeight - marginY);
            ctx.stroke();


            ctx.font = "10px roboto";
            */
            // Calculando o total de pixels
            var larguraDoCanvas = canvas.width;
            var alturaDoCanvas = canvas.height;
            var totalDePixels = larguraDoCanvas * alturaDoCanvas;

            ctx.fillStyle = "gray";
            ctx.fillText(`${larguraDoCanvas}x${alturaDoCanvas}`, canvasWidth - 40, canvasHeight - 10, 70);
            //window.addEventListener('resize', function() {
            //    canvas.width = window.innerWidth;
            //    canvas.height = window.innerHeight;
            //});

            rows = alturaDoCanvas; // Número de linhas desejado
            cols = larguraDoCanvas; // Número de colunas desejado

            // Mount Matrix Pixels
            const matrix = []
            for (let i = 0; i < rows; i++) {
                let line = [];
                for (let j = 0; j < cols; j++) {
                    //adding cell
                    line.push(0);
                }
                matrix.push(line);
            }

            // Mount DOM
            const tblMatrix = $('div.matrix');
            for (let i = 0; i < matrix.length; i++) {
                let rwline = $("<div class='line'></div>");
                for (let j = 0; j < matrix[i].length; j++) {
                    //adding cell
                    rwline.append(`<div class="cell" onclick="matrix_cell_alter(this,${i},${j})" data-value="0" data-toggle="tooltip" title="x:${i},y:${j}">0</div>`);
                }
                tblMatrix.append(rwline);
            }

            document.addEventListener('DOMContentLoaded', (event) => { hljs.highlightAll(); });

            function matrix_cell_alter(elm, cell, row){

                if($(elm).attr('data-value') == 1){
                    matrix[row][cell] = 0;
                    $(elm).attr('data-value','0');
                    $(elm).text('0');

                    ctx.fillStyle = 'white'; // Definir a cor para a mesma cor do plano de fundo
                    ctx.fillRect(row * pixelSize, cell * pixelSize, pixelSize, pixelSize);

                } else {

                    matrix[row][cell] = 1;
                    $(elm).attr('data-value', '1');
                    $(elm).text('1');

                    ctx.fillStyle = 'blue'; // Definir a cor para a mesma cor do plano de fundo
                    ctx.fillRect(row * pixelSize, cell * pixelSize, pixelSize, pixelSize);
                }
            }
            // Inicializa todos os tooltips
            var tooltips = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltips.map(function (tooltipEl) {
                return new bootstrap.Tooltip(tooltipEl);
            });
        </script>
    </body>
</html>